<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhongLenhB Bio & Chat üåæ</title>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <style>
        :root {
            --accent: #7cd342;
            --glass: rgba(255, 255, 255, 0.05); /* Liquid Glass 5% */
            --blur: blur(1px); /* ƒê·ªô nh√≤e 1px theo √Ω n√≠ */
        }

        * { box-sizing: border-box; transition: 0.3s; }
        body {
            margin: 0; font-family: 'Segoe UI', sans-serif;
            background: url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1932&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover; color: white;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
        }

        /* KHUNG CH√çNH */
        .container {
            width: 90%; max-width: 400px;
            background: var(--glass); backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px; padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
        }

        .avatar { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--accent); margin-bottom: 15px; box-shadow: 0 0 15px var(--accent); }
        
        h2 { margin: 10px 0; letter-spacing: 2px; color: var(--accent); }
        .tagline { font-size: 14px; opacity: 0.8; margin-bottom: 20px; }

        /* M·ª§C ROBLOX B√ç M·∫¨T ü§ë */
        .btn-link {
            background: rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.1);
            padding: 15px; border-radius: 20px; display: flex; align-items: center;
            gap: 15px; cursor: pointer; margin-bottom: 12px; text-decoration: none; color: white;
        }
        .btn-link:hover { background: rgba(0,0,0,0.6); transform: scale(1.03); border-color: var(--accent); box-shadow: 0 0 20px rgba(124, 211, 66, 0.4); }

        /* GIAO DI·ªÜN CHAT ·∫®N */
        #chat-section { display: none; margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }
        #chat-logs { height: 250px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding: 10px; margin-bottom: 15px; }
        .msg { padding: 8px 15px; border-radius: 15px; max-width: 85%; font-size: 14px; }
        .msg.me { background: var(--accent); color: black; align-self: flex-end; font-weight: bold; }
        .msg.friend { background: rgba(255,255,255,0.1); align-self: flex-start; }
        
        input { width: 100%; padding: 12px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.5); color: white; margin-bottom: 10px; outline: none; }
        .send-btn { background: var(--accent); color: black; border: none; padding: 10px 20px; border-radius: 15px; font-weight: bold; cursor: pointer; width: 100%; }
        .send-btn:hover { background: #fff; box-shadow: 0 0 15px #fff; }

        .back-btn { font-size: 12px; color: var(--accent); cursor: pointer; text-decoration: underline; margin-top: 10px; display: inline-block; }
    </style>
</head>
<body>

    <div class="container" id="main-ui">
        <img src="https://via.placeholder.com/100" class="avatar" alt="PhongLenhB">
        <h2>PHONG LENH B</h2>
        <p class="tagline">Ph√°p s∆∞ Picsart ‚Ä¢ Chi·∫øn th·∫ßn Blood Strike ü§ë</p>

        <div class="btn-link" onclick="toggleChat()">
            <img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Roblox_player_icon_with_a_colored_background.svg" width="30">
            <div style="text-align: left;">
                <div style="font-weight: bold;">ROBLOX VN</div>
                <div style="font-size: 11px; opacity: 0.7;">B·∫•m ƒë·ªÉ nh·∫Øn tin Crystal 1px ü§ë</div>
            </div>
        </div>

        <div class="btn-link">
            <span>üéÆ</span>
            <div style="text-align: left;">
                <div style="font-weight: bold;">BLOOD STRIKE</div>
                <div style="font-size: 11px; opacity: 0.7;">Pro Player - ID: PHONGLENHB</div>
            </div>
        </div>

        <div id="chat-section">
            <h4 style="color: var(--accent); margin: 0 0 10px 0;">CRYSTAL CHAT üåæ</h4>
            <input type="email" id="my-email" placeholder="Email c·ªßa n√≠...">
            <button class="send-btn" style="margin-bottom: 10px;" onclick="register()">ƒêƒÇNG K√ù ONLINE</button>
            
            <input type="email" id="friend-email" placeholder="Email b·∫°n b√® ƒë·ªÉ k·∫øt n·ªëi...">
            <button class="send-btn" style="background: #fff;" onclick="connectFriend()">K·∫æT N·ªêI B·∫†N B√à</button>

            <div id="chat-logs"></div>

            <div style="display: flex; gap: 5px;">
                <input type="text" id="chat-msg" placeholder="Nh·∫Øn g√¨ ƒë√≥ ƒëi n√≠...">
                <button class="send-btn" style="width: 80px;" onclick="sendText()">G·ª¨I</button>
            </div>
            <span class="back-btn" onclick="toggleChat()">‚Üê Quay l·∫°i Bio</span>
        </div>
    </div>

    <script>
        let peer, activeConn;
        const chatLogs = document.getElementById('chat-logs');

        // H√†m ·∫©n hi·ªán lanh l·ª£i
        function toggleChat() {
            const chatSec = document.getElementById('chat-section');
            const btns = document.querySelectorAll('.btn-link');
            const avatar = document.querySelector('.avatar');
            
            if(chatSec.style.display === 'block') {
                chatSec.style.display = 'none';
                btns.forEach(b => b.style.display = 'flex');
                avatar.style.display = 'inline-block';
            } else {
                chatSec.style.display = 'block';
                btns.forEach(b => b.style.display = 'none');
                avatar.style.display = 'none';
            }
        }

        function register() {
            const email = document.getElementById('my-email').value.trim();
            if(!email.includes('@')) return alert("Email sai r·ªìi n√≠!");
            const id = email.replace(/[^a-zA-Z0-9]/g, "");
            
            peer = new Peer(id, { config: {'iceServers': [{ 'urls': 'stun:stun.l.google.com:19302' }]} });
            peer.on('open', () => alert("N√≠ ƒë√£ online: " + email));
            peer.on('connection', conn => { activeConn = conn; setupChat(); });
        }

        function connectFriend() {
            const fEmail = document.getElementById('friend-email').value.trim();
            const fID = fEmail.replace(/[^a-zA-Z0-9]/g, "");
            activeConn = peer.connect(fID);
            setupChat();
            alert("ƒêang t√¨m m√°y b·∫°n n√≠...");
        }

        function setupChat() {
            activeConn.on('data', data => appendMsg(data, 'friend'));
            activeConn.on('open', () => appendMsg("H·ªá th·ªëng: ƒê√£ k·∫øt n·ªëi!", "friend"));
        }

        function sendText() {
            const t = document.getElementById('chat-msg').value;
            if(!t || !activeConn) return;
            activeConn.send(t);
            appendMsg(t, 'me');
            document.getElementById('chat-msg').value = '';
        }

        function appendMsg(txt, type) {
            const d = document.createElement('div');
            d.className = `msg ${type}`;
            d.innerText = txt;
            chatLogs.appendChild(d);
            chatLogs.scrollTop = chatLogs.scrollHeight;
        }
    </script>
</body>
</html>
